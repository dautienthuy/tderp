<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>		 
		<record id="wz_td_report_weekly_view_form" model="ir.ui.view">
			<field name="name">wz.td.report.weekly.form</field>
			<field name="model">wz.td.report.weekly</field>
			<field name="arch" type="xml">
				<form string="Report Weekly" create="false" readonly="1">
					<header>
						<button string='Compute' name="compute" type="object"/>
					</header>
					<sheet>
						<group>
							<group>
								<field name='date_from' required="1"/>
								<field name='name' required="1"/>
							</group>
							<group>
								<field name='date_to' required="1"/>
							</group>
						</group>
						<notebook>
							<page name="report_detail" string="Theo loại">
								<field name="detail_ids" colspan="4" nolabel="1" context="{'date_from':date_from,'date_to':date_to,'detail_ids':detail_ids}">
									<tree create="0" delete="0" >
										<field name='backlog_status'/>
										<field name='ton_dau'/>
										<field name='du_kien'/>
										<field name='theo_lich'/>
										<field name='ngoai_lich'/>
										<field name='ton_cuoi'/>
									</tree>
								</field>
							</page>
							<page name="report_emp" string="Theo Nhân Viên">
								<field name="emp_ids" colspan="4" nolabel="1" context="{'date_from':date_from,'date_to':date_to,'detail_ids':detail_ids}">
									<tree create="0" delete="0" >
										<field name='employee_id'/>
										<field name='ngay_lv'/>
										<field name='chi_tieu_thang'/>
										<field name='ton_dk'/>
										<field name='du_kien'/>
										<field name='theo_lich'/>
										<field name='ngoai_lich'/>
										<field name='ton_cuoi'/>
										<field name='note'/>
									</tree>
								</field>
							</page>
						</notebook>
					</sheet>
				</form>
			</field>
		</record>		
		
		<record id="action_print_wz_td_report_weekly_detail" model="ir.actions.act_window">
			<field name="name">Báo cáo theo tuần</field>
			<field name="type">ir.actions.act_window</field>
			<field name="res_model">wz.td.report.weekly</field>
			<field name="view_mode">form</field>
			<field name="view_id" ref="wz_td_report_weekly_view_form"/>
			<field name="target">current</field>
		</record>

		<menuitem id="menu_report_td_weekly"
			name="Báo cáo theo tuần"
			action="action_print_wz_td_report_weekly_detail" 		
			parent="maintenance.maintenance_reporting" 
			sequence="60" />
    </data>
</odoo>