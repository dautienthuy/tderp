<?xml version="1.0" encoding="utf-8"?>
<odoo>
<data>
    <!-- Pivot -->
    <record id="hr_equipment_request_view_pivot_td_user" model="ir.ui.view">
        <field name="name">equipment.request.tduser.pivot</field>
        <field name="model">maintenance.request</field>
        <field name="arch" type="xml">
            <pivot string="maintenance Request" sample="1">
                <field name="user_id"/>
                <field name="stage_id"/>
                <field name="color" invisible="1"/>
            </pivot>
        </field>
    </record>
    <!-- Calendar -->
    <record id="hr_equipment_view_calendar_td_user" model="ir.ui.view">
        <field name="name">equipment.request.tduser.calendar</field>
        <field name="model">maintenance.request</field>
        <field name="arch" type="xml">
            <calendar date_start="schedule_date" mode="month" date_delay="duration" color="user_id">
                <field name="user_id" filters="1"/>
                <field name="priority"/>
                <field name="maintenance_type"/>
            </calendar>
        </field>
    </record>
    <!-- Tree -->
    <record id="hr_equipment_request_view_td_user_tree" model="ir.ui.view">
        <field name="name">equipment.request.tduser.tree</field>
        <field name="model">maintenance.request</field>
        <field name="arch" type="xml">
            <tree string="maintenance Request" multi_edit="1" sample="1" create="0" edit="0" delete="0">
                <field name="message_needaction" invisible="1"/>
                <field name="name"/>
                <field name="request_date" groups="base.group_no_one"/>
                <field name="owner_user_id"/>
                <field name="user_id"/>
                <field name="category_id" readonly="1" groups="maintenance.group_equipment_manager"/>
                <field name="stage_id"/>
                <field name="company_id" readonly="1" groups="base.group_multi_company"/>
                <field name="activity_exception_decoration" widget="activity_exception"/>
            </tree>
        </field>
    </record>
    <!-- Form -->
    <record id="hr_equipment_request_view_td_user_form" model="ir.ui.view">
        <field name="name">equipment.request.tduser.form</field>
        <field name="model">maintenance.request</field>
        <field name="arch" type="xml">
            <form string="Maintenance Request">
                <field name="company_id" invisible="1"/>
                <field name="category_id" invisible="1"/>
                 <field name="archive" invisible="1"/>
                <header>
                    <field name="stage_id" widget="statusbar" options="{'clickable': '1'}" attrs="{'invisible': [('archive', '=', True)]}" readonly="1"/>
                </header>
                <sheet>
                    <div attrs="{'invisible': [('archive', '=', False)]}">
                        <span class="badge text-bg-warning float-end">Canceled</span>
                    </div>
                    <div class="oe_right">
                        <field name="kanban_state" class="oe_inline" widget="state_selection"/>
                    </div>
                    <div class="oe_title">
                        <label for="name" string="Yêu cầu"/>
                        <h1>
                            <field name="name" placeholder="e.g. Screen not working" readonly="1"/>
                        </h1>
                    </div>
                    <group>
                        <group>
                            <field name="code" readonly="1"/>
                            <field name="equipment_id" readonly="1" options="{'no_create': True, 'no_open': True}"/>
                            <field name="category_id" readonly="1" options="{'no_create': True, 'no_open': True}"/>
                            <field name="request_date" readonly="True"/>
                            <field name="close_date" readonly="1"/>
                            <field name="date_start" readonly="1"/>
                            <field name="date_end" readonly="1"/>
                            <field name="maintenance_checklist_id" readonly="1" options="{'no_create': True, 'no_open': True}"/>
                            <field name="date_repair" readonly="1"/>
                            <field name="maintenance_type" widget="radio" readonly="1"/>
                        </group>
                        <group>
                            <field name="maintenance_team_id" readonly="1" options="{'no_create': True, 'no_open': True}"/>
                            <field name="user_id" readonly="1" options="{'no_create': True, 'no_open': True}"/>
                            <field name="schedule_date" readonly="1"/>
                            <label for="duration"/>
                            <div>
                                <field name="duration" readonly="1" widget="float_time" class="oe_inline"/> <span class="ml8">hours</span>
                            </div>
                            <field name="priority" widget="priority" readonly="1"/>
                            <field name="order_id" readonly="1" options="{'no_create': True, 'no_open': True}"/>
                            <field name="last_working_day" readonly="1"/>
                            <field name="number_maintenance" readonly="1"/>
                            <field name="backlog_status" readonly="1"/>
                            <field name="backlog_note" readonly="1"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Chi tiết công việc" name="final_settlement_line">
                            <field name="final_settlement_line_ids" readonly="1">
                                <tree string="Equipment Parts List">
                                    <field name="task_detail"/>
                                    <field name="uom_id"/>
                                    <field name="task_qty"/>
                                </tree>
                                <form string="Equipment Parts List">
                                    <group>
                                        <field name="task_detail"/>
                                        <field name="uom_id"/>
                                        <field name="task_qty"/>
                                    </group>
                                </form>
                            </field>
                        </page>
                        <page string="Chi tiết vật tư" name="detail">
                            <field name="detail_ids" readonly="1">
                                <tree string="Detail">
                                    <field name="product_id"/>
                                    <field name="uom_id"/>
                                    <field name="technical_spec"/>
                                    <field name="quantity"/>
                                    <field name="note"/>
                                </tree>
                                <form string="Detail">
                                    <group>
                                        <field name="product_id" readonly="1" options="{'no_create': True, 'no_open': True}"/>
                                        <field name="uom_id" readonly="1" options="{'no_create': True, 'no_open': True}"/>
                                        <field name="technical_spec"/>
                                        <field name="quantity"/>
                                        <field name="note"/>
                                    </group>
                                </form>
                            </field>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>
</data>
</odoo>
